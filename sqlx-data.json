{
  "db": "PostgreSQL",
  "072f943d0d5ded261ee897034ca49d9e119c66e494dc9097b667bc4e1b099dc3": {
    "query": "UPDATE chat_administrator SET chat_id = $1 WHERE chat_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "09b10de9123d3e78d3fe156c1b8461a000da1e76b1a41038a2acf2d8ae6ab70f": {
    "query": "DELETE FROM twitter_account\n            WHERE account_id = lookup_account($1, $2)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric"
        ]
      },
      "nullable": []
    }
  },
  "0d4cddf77bde50b1c46baa565f2f06fc3e66577ff09ca40032bb9ee576fd7f5f": {
    "query": "DELETE FROM user_config\n            WHERE account_id = lookup_account($1, $2) AND name = $3",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "18b1f1eecaa97d23f5b145cc1224210f425424e50d71bf55421080d02c1f239e": {
    "query": "SELECT account.id account_id, account.telegram_id, account.discord_id, request_key, request_secret\n            FROM twitter_auth\n            JOIN account ON account.id = twitter_auth.account_id\n            WHERE request_key = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "account_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "telegram_id",
          "type_info": "Int8"
        },
        {
          "ordinal": 2,
          "name": "discord_id",
          "type_info": "Numeric"
        },
        {
          "ordinal": 3,
          "name": "request_key",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "request_secret",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        true,
        true,
        false,
        false
      ]
    }
  },
  "2d0eb75f282ed83d99e5ef77e8344bb6727742454c9f42b9cf1a9ceab5988e90": {
    "query": "SELECT id, processed, source, url, mp4_url, thumb_url, display_url, display_name, job_id\n            FROM videos\n            WHERE source = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "processed",
          "type_info": "Bool"
        },
        {
          "ordinal": 2,
          "name": "source",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "mp4_url",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "thumb_url",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "display_url",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "job_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        true
      ]
    }
  },
  "363ba13615df3a63979c903648af4bd50feafed57a20b804a23e4050864fe958": {
    "query": "UPDATE permission SET chat_id = $1 WHERE chat_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "39084600ec74c0a0b99d8aeaa7dfd291c7630e7899e610d4ac7bf5fb300433e1": {
    "query": "SELECT value\n            FROM group_config\n            WHERE group_config.chat_id = lookup_chat($1, $2) AND name = $3\n            ORDER BY updated_at DESC LIMIT 1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "value",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "44a12bda2ea72251b38421caf0c07382b0cc0a95a869e2c3c6f818949f9c5195": {
    "query": "SELECT 1 FROM chat_telegram WHERE telegram_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "?column?",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "4bf1e2603910e4ef6f67ad369260e0dc3b903787e0f95bfaf84a74123c652132": {
    "query": "SELECT id, processed, source, url, mp4_url, thumb_url, display_url, display_name, job_id\n            FROM videos\n            WHERE display_name = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "processed",
          "type_info": "Bool"
        },
        {
          "ordinal": 2,
          "name": "source",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "mp4_url",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "thumb_url",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "display_url",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "job_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        true
      ]
    }
  },
  "4e0eb86a8698b5f3de421d034ca89d743ebe447d5c4334cd25d8371f2eff4432": {
    "query": "SELECT consumer_key, consumer_secret\n            FROM twitter_account\n            WHERE twitter_account.account_id = lookup_account($1, $2)",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "consumer_key",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "consumer_secret",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "5cec2b6c51717adcd83c671410f7acc1e41b78815687310f45f122cd7a168a4f": {
    "query": "INSERT INTO twitter_auth (account_id, request_key, request_secret) VALUES\n                (lookup_account($1, $2), $3, $4)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "608059a2b5b4a8855417901072923f5a8bb28b5b22dae35f08a606ec0e501678": {
    "query": "SELECT account.telegram_id user_id, hash, message_id, photo_id\n            FROM source_notification\n            JOIN account ON account.id = source_notification.account_id\n            WHERE hash <@ ($1, 3)",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id",
          "type_info": "Int8"
        },
        {
          "ordinal": 1,
          "name": "hash",
          "type_info": "Int8"
        },
        {
          "ordinal": 2,
          "name": "message_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 3,
          "name": "photo_id",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        true,
        true,
        true,
        true
      ]
    }
  },
  "65d64e09fa623877a370f1b46dfa48de1e105e34a97227c81805d6b26a966286": {
    "query": "SELECT hash FROM file_url_cache WHERE url = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "hash",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        true
      ]
    }
  },
  "66f224396a3d4330a584349bea657f0eca671234070accce35ef3c8efa9d8aa9": {
    "query": "INSERT INTO cached_post (post_url, thumb, cdn_url, width, height) VALUES\n                ($1, $2, $3, $4, $5) RETURNING id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Bool",
          "Text",
          "Int4",
          "Int4"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "68a84647d56342e43c5e49025cd3f0129452ebec9106d98101566730507914dd": {
    "query": "SELECT id, post_url, thumb, cdn_url, width, height\n            FROM cached_post\n            WHERE post_url = $1 AND thumb = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "post_url",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "thumb",
          "type_info": "Bool"
        },
        {
          "ordinal": 3,
          "name": "cdn_url",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "width",
          "type_info": "Int4"
        },
        {
          "ordinal": 5,
          "name": "height",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Bool"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "6960bf8689597c72138beb25b305d60cd2e28cd6818667debc7c56e2ba0af970": {
    "query": "DELETE FROM chat_administrator\n            WHERE chat_id = lookup_chat_by_telegram_id($1) AND account_id <> lookup_account_by_telegram_id($2)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "6f33591a771772951394866e5720c7db6f93b03614f79f25b9d550f8dd331254": {
    "query": "INSERT INTO source_notification (account_id, hash, message_id, photo_id)\n                VALUES (lookup_account($1, $2), $3, $4, $5) ON CONFLICT DO NOTHING",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Int8",
          "Int4",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "718413b4209daab5c56c6c2997d251bbc71fefbad905b74cdfa7229842add061": {
    "query": "INSERT INTO chat_administrator (account_id, chat_id, is_admin, updated_at)\n                VALUES (lookup_account($1, $2), lookup_chat_by_telegram_id($3), $4, to_timestamp($5::bigint))",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Int8",
          "Bool",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "75985cf51c1bb1bebe3ea396bf65c9968c5040c2434f0a8e9d889b3f07ed532a": {
    "query": "SELECT lookup_chat_by_telegram_id($1)",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "lookup_chat_by_telegram_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "7728b3eb516d6a4154c225b889b9d74079232e36c2be022dbd955a4f5cebcada": {
    "query": "DELETE FROM chat WHERE id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "7f9bdd51e9430d93edebd6180a5ac2ad0d7172ebaf5bab5bffd44d447771518a": {
    "query": "UPDATE videos SET job_id = $1 WHERE id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "8244dc113337c631c02ff77b4bf04c98035d85411bfd0ab7d41e2ab369ec426f": {
    "query": "INSERT INTO group_config (chat_id, name, value) VALUES\n                (lookup_chat($1, $2), $3, $4)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Text",
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "82f6e2f376c7d0a86b5489b320831fb1ac15bb8a766a574bd51439e7acba8a83": {
    "query": "UPDATE video_job_message SET chat_id = $1 WHERE chat_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "86d9f856585958d5a3980996fd2a3f04a21f60ac7a2a759537284947ae57588f": {
    "query": "SELECT message_id\n            FROM video_job_message\n            WHERE video_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "message_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "95930ce19cbe76cac13da523052de2e53d47f302653ea2fa4c63f93f5a3086b1": {
    "query": "INSERT INTO video_job_message (video_id, chat_id, message_id) VALUES\n                ($1, lookup_chat($2, $3), $4)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int8",
          "Numeric",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "a27704959360f077a7962c12e1b3fee3c54144bd24631ece1112e34eaaaef712": {
    "query": "SELECT value\n            FROM user_config\n            WHERE user_config.account_id = lookup_account($1, $2) AND name = $3\n            ORDER BY updated_at DESC LIMIT 1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "value",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "abc8fe7876be76ec0835a9e32d99caa5761a46d6e628200e4bfda7e9ffc60f4c": {
    "query": "UPDATE videos SET processed = true, mp4_url = $1, thumb_url = $2 WHERE id = $3",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "ac2cf1c97f5d138636445a9229cad027ec12d89f38a5682f07112e2c75c4120e": {
    "query": "INSERT INTO permission (chat_id, updated_at, permissions) VALUES\n                (lookup_chat_by_telegram_id($1), to_timestamp($2::int), $3)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int4",
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "be823b9738decf3ac8c9f0574a984a5ee07829a4b67241a567687d92a2f0b76e": {
    "query": "LOCK TABLE chat, chat_telegram IN EXCLUSIVE MODE",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "bf86e6ddb9c7b28c7c5a196003d5cb4ea53fe8ae6ee52b0865c765bebdc0bda1": {
    "query": "INSERT INTO chat_telegram (chat_id, telegram_id) VALUES ($1, $2)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "bfba897adbca6cade6202ee3b47a646c01c2183118760ddcca95362e0aa6b925": {
    "query": "UPDATE chat_telegram SET chat_id = $1 WHERE telegram_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "ce0e5bab6cbc42b6b37ce2c88a26959fe4d789d30e1a9732878fa57a2f83c7a7": {
    "query": "INSERT INTO user_config (account_id, name, value)\n            VALUES (lookup_account($1, $2), $3, $4)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Text",
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "cf5e06f82665f3d2832dcb38d1f9a71dfb1dcb33490d7d8d6db03b370df6d84f": {
    "query": "DELETE FROM twitter_auth\n            WHERE account_id = lookup_account($1, $2)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric"
        ]
      },
      "nullable": []
    }
  },
  "d2d469f0c96e2c695dac67da5065d1f645b86ab8347051a50c61dedfd3be5696": {
    "query": "INSERT INTO videos (source, url, display_url, display_name) VALUES\n                ($1, $2, $3, $4)\n            ON CONFLICT ON CONSTRAINT unique_source\n                DO UPDATE SET source = EXCLUDED.source\n            RETURNING display_name",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "display_name",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "d3d3cc97bad752504d1604aa4004aac0abb5d8975ec6787ce11025107403d304": {
    "query": "SELECT chat_telegram.telegram_id\n            FROM chat_telegram\n            ORDER BY abs(chat_telegram.telegram_id) DESC\n            LIMIT 1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "telegram_id",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false
      ]
    }
  },
  "d5c4e9b0db815868a2b9766a6b8aa65f2798ff6274483c3cc42c59ac7f706ffb": {
    "query": "SELECT is_admin\n            FROM chat_administrator\n            WHERE account_id = lookup_account($1, $2) AND chat_id = lookup_chat_by_telegram_id($3)\n            ORDER BY updated_at DESC LIMIT 1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "is_admin",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Int8"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "dc5ffecf6ca8dd081cd0ee3970219a73c27bff1fc30ea0ebb6a1354cdccddfbf": {
    "query": "INSERT INTO file_url_cache (url, hash) VALUES ($1, $2) ON CONFLICT DO NOTHING",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "e9f1382fe92772fde8d17cab99ce6e5c7b14f137e2e50f2f19b67b7f117e6a04": {
    "query": "INSERT INTO twitter_account (account_id, consumer_key, consumer_secret) VALUES\n                (lookup_account($1, $2), $3, $4)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "eff9bed64058278d5a47ae4714f620406d140d3c58f68c7a974e970aff946628": {
    "query": "UPDATE group_config SET chat_id = $1 WHERE chat_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "ff16be327927d1d9b38d922e52782a38bb6bea34955cad826ae2d162006e40e1": {
    "query": "DELETE FROM source_notification\n            WHERE account_id = lookup_account($1, $2) AND hash <@ ($3, 0)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Numeric",
          "Int8"
        ]
      },
      "nullable": []
    }
  }
}