{
  "db": "PostgreSQL",
  "025d1324dfb3c20961a5407d1d55fd66e56f87cda3424e7290d4b77ea577ffa1": {
    "query": "DELETE FROM source_notification WHERE user_id = $1 AND hash <@ ($2, 0)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "2d0eb75f282ed83d99e5ef77e8344bb6727742454c9f42b9cf1a9ceab5988e90": {
    "query": "SELECT id, processed, source, url, mp4_url, thumb_url, display_url, display_name, job_id\n            FROM videos\n            WHERE source = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "processed",
          "type_info": "Bool"
        },
        {
          "ordinal": 2,
          "name": "source",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "mp4_url",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "thumb_url",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "display_url",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "job_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        true
      ]
    }
  },
  "3adbaaae6a1eb5ee070298fd14ed811b7f1b6be6457cb5b87f8b85844d12aba7": {
    "query": "SELECT id FROM chat WHERE telegram_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "3b8f3d5d67b4c00354b52fae65cc09ee37a259ab9363fd82d06fc9dd3c2e1d3d": {
    "query": "DELETE FROM twitter_account\n            WHERE user_id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "42e300f76e63ce3f9e310a18f70133530db010eec743238f2ba9c6d5c589e4c4": {
    "query": "SELECT consumer_key, consumer_secret\n            FROM twitter_account\n            JOIN account ON account.id = twitter_account.user_id\n            WHERE account.telegram_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "consumer_key",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "consumer_secret",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "43d65de2bdb6dd755608567b899f48a1d0cc67b4dfaed9800e6545b4092785a5": {
    "query": "SELECT user_id, hash, message_id, photo_id FROM source_notification WHERE hash <@ ($1, 3)",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id",
          "type_info": "Int8"
        },
        {
          "ordinal": 1,
          "name": "hash",
          "type_info": "Int8"
        },
        {
          "ordinal": 2,
          "name": "message_id",
          "type_info": "Int4"
        },
        {
          "ordinal": 3,
          "name": "photo_id",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        false,
        false,
        true,
        true
      ]
    }
  },
  "4bf1e2603910e4ef6f67ad369260e0dc3b903787e0f95bfaf84a74123c652132": {
    "query": "SELECT id, processed, source, url, mp4_url, thumb_url, display_url, display_name, job_id\n            FROM videos\n            WHERE display_name = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "processed",
          "type_info": "Bool"
        },
        {
          "ordinal": 2,
          "name": "source",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "mp4_url",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "thumb_url",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "display_url",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "job_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        true
      ]
    }
  },
  "51ab9e5e7cd8d2b21259a2eaf933df39f2e3a2961351dc0acaa7bc5a72b6eb8d": {
    "query": "SELECT hash FROM file_id_cache WHERE file_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "hash",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "51d9794f99305ce8acc5a641f7f1a242193e303bdd8791ac9d2758329242eeb1": {
    "query": "INSERT INTO account (telegram_id) VALUES ($1) RETURNING id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "5d40737ac13a424dd8d3b05fd32890d93601e3e27421565253adb314d068e811": {
    "query": "SELECT value\n            FROM group_config\n            JOIN chat ON chat.id = group_config.chat_id\n            WHERE chat.telegram_id = $1 AND name = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "value",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "6653eada467f5f2dfa95769fce379d03da7e3951b71b87a9c52d27d460caee2d": {
    "query": "INSERT INTO permission (chat_id, updated_at, permissions) VALUES\n                ($1, to_timestamp($2::int), $3)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "66f224396a3d4330a584349bea657f0eca671234070accce35ef3c8efa9d8aa9": {
    "query": "INSERT INTO cached_post (post_url, thumb, cdn_url, width, height) VALUES\n                ($1, $2, $3, $4, $5) RETURNING id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Bool",
          "Text",
          "Int4",
          "Int4"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "68a84647d56342e43c5e49025cd3f0129452ebec9106d98101566730507914dd": {
    "query": "SELECT id, post_url, thumb, cdn_url, width, height\n            FROM cached_post\n            WHERE post_url = $1 AND thumb = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "post_url",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "thumb",
          "type_info": "Bool"
        },
        {
          "ordinal": 3,
          "name": "cdn_url",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "width",
          "type_info": "Int4"
        },
        {
          "ordinal": 5,
          "name": "height",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Bool"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "6e11598c80d2b0b3fb215f3c283cfcaa500c31aa618e3051b916b466cd965399": {
    "query": "SELECT id FROM account WHERE telegram_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "79441ce95b011802d7790d3057b47dc974be74cd6970438333f59857a284024f": {
    "query": "SELECT value\n            FROM user_config\n            JOIN account ON account.id = user_config.user_id\n            WHERE account.telegram_id = $1 AND name = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "value",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "7f9bdd51e9430d93edebd6180a5ac2ad0d7172ebaf5bab5bffd44d447771518a": {
    "query": "UPDATE videos SET job_id = $1 WHERE id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "800398ee0d6d9684fe3377faeb86b4a396eba2e1a5e2706eaf781b1a4d5874ce": {
    "query": "INSERT INTO group_config (chat_id, name, value) VALUES\n                ($1, $2, $3)\n            ON CONFLICT (chat_id, name)\n                DO UPDATE SET value = EXCLUDED.value",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Text",
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "882105dd517ad5b2601877f27e4d6b06b38d7f03cbc2f3e6026bb153f2476e2a": {
    "query": "SELECT account.telegram_id user_id, request_key, request_secret\n            FROM twitter_auth\n            JOIN account ON account.id = twitter_auth.user_id\n            WHERE request_key = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id",
          "type_info": "Int8"
        },
        {
          "ordinal": 1,
          "name": "request_key",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "request_secret",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "a58df9bef730cfabeb79892b87ea9c5812b19bfd6aee06b26445a98dcdeb1676": {
    "query": "DELETE FROM twitter_auth\n            WHERE user_id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "abc8fe7876be76ec0835a9e32d99caa5761a46d6e628200e4bfda7e9ffc60f4c": {
    "query": "UPDATE videos SET processed = true, mp4_url = $1, thumb_url = $2 WHERE id = $3",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "ac4660abd17cafde2f47a7cbc0217301cbccca448d817fbed93ea4cfcc9dca0a": {
    "query": "DELETE FROM group_config\n            WHERE chat_id = $1 AND name = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "c13a2d923c559c47bd31d5a0f5605f5659e690686c61d01df7a550dee60b5148": {
    "query": "SELECT chat.telegram_id chat_id, message_id\n            FROM video_job_message\n            JOIN chat ON chat.id = video_job_message.chat_id\n            WHERE video_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "chat_id",
          "type_info": "Int8"
        },
        {
          "ordinal": 1,
          "name": "message_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "c6fd6df10a43d2c972abe3529a129286625b6cc1948fb15f1416d855edba33cc": {
    "query": "INSERT INTO twitter_auth (user_id, request_key, request_secret) VALUES\n                ($1, $2, $3)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "d2d469f0c96e2c695dac67da5065d1f645b86ab8347051a50c61dedfd3be5696": {
    "query": "INSERT INTO videos (source, url, display_url, display_name) VALUES\n                ($1, $2, $3, $4)\n            ON CONFLICT ON CONSTRAINT unique_source\n                DO UPDATE SET source = EXCLUDED.source\n            RETURNING display_name",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "display_name",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "d2e017c8ddc0c7f72d7e3486f72ca0819256d50455bf9a94457fe9a9931ca701": {
    "query": "INSERT INTO user_config (user_id, name, value)\n            VALUES ($1, $2, $3)\n            ON CONFLICT (user_id, name)\n            DO\n                UPDATE SET value = EXCLUDED.value",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Text",
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "dde2f98c7e317bd0a9a22f55310a4aac1a9b25ee136fbdb9e7e1fe1109f554ba": {
    "query": "INSERT INTO file_id_cache (file_id, hash) VALUES ($1, $2) ON CONFLICT DO NOTHING",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "eac42feff999babcef24e0a71405adf63be44bf6a14f7bdbda7a093d285b7df1": {
    "query": "INSERT INTO source_notification (user_id, hash, message_id, photo_id) VALUES ($1, $2, $3, $4) ON CONFLICT DO NOTHING",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8",
          "Int4",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "f579fabbfb0ddaf7e6092e254766676f1876e9fdb16e12420213c6ba5d6a3376": {
    "query": "INSERT INTO twitter_account (user_id, consumer_key, consumer_secret) VALUES\n                ($1, $2, $3)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "f5ae34a3b70dd40c052bc912141941d2eb42ec59d1b23864a89bd820c9894ae3": {
    "query": "INSERT INTO chat (telegram_id) VALUES ($1) RETURNING id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "fbb92df95d7de7125b8fd7c1229aab88c79ec0c3601fa339acc99ff5f41cc461": {
    "query": "INSERT INTO video_job_message (video_id, chat_id, message_id) VALUES\n                ($1, $2, $3)",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4"
        ]
      },
      "nullable": []
    }
  }
}